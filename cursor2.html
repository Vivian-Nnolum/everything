<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reusable Pricing Card Component</title>
    <style>
        /* Reset and base styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
            padding: 1rem;
        }

        /* Pricing Card Component - BEM Methodology */
        .pricing-card {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            margin: 1rem auto;
            max-width: 320px;
            width: 100%;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 2px solid transparent;
        }

        .pricing-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .pricing-card:focus-within {
            border-color: #007bff;
            outline: none;
        }

        /* Header */
        .pricing-card__header {
            text-align: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e9ecef;
        }

        .pricing-card__title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        .pricing-card__price {
            font-size: 2rem;
            font-weight: 800;
            color: #27ae60;
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 0.25rem;
        }

        .pricing-card__currency {
            font-size: 1.25rem;
        }

        .pricing-card__period {
            font-size: 0.875rem;
            font-weight: 500;
            color: #6c757d;
        }

        /* Features */
        .pricing-card__features {
            list-style: none;
            margin-bottom: 2rem;
        }

        .pricing-card__feature {
            padding: 0.75rem 0;
            border-bottom: 1px solid #f8f9fa;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.95rem;
            color: #495057;
        }

        .pricing-card__feature:last-child {
            border-bottom: none;
        }

        .pricing-card__feature::before {
            content: "✓";
            background: #28a745;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        /* Action Button */
        .pricing-card__button {
            width: 100%;
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.875rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .pricing-card__button:hover {
            background: linear-gradient(135deg, #0056b3 0%, #004085 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
        }

        .pricing-card__button:focus {
            outline: 3px solid rgba(0, 123, 255, 0.3);
            outline-offset: 2px;
        }

        .pricing-card__button:active {
            transform: translateY(0);
        }

        /* Demo Container */
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .demo-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .demo-subtitle {
            text-align: center;
            font-size: 1.125rem;
            color: #6c757d;
            margin-bottom: 3rem;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        /* Responsive Design */
        @media (min-width: 768px) {
            .pricing-card {
                padding: 2rem;
                max-width: 350px;
            }

            .pricing-card__title {
                font-size: 1.75rem;
            }

            .pricing-card__price {
                font-size: 2.5rem;
            }
        }

        @media (min-width: 1024px) {
            .cards-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            .pricing-card,
            .pricing-card__button {
                transition: none;
            }
            
            .pricing-card:hover {
                transform: none;
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .pricing-card {
                border: 2px solid #000;
            }
            
            .pricing-card__feature::before {
                background: #000;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1 class="demo-title">Pricing Card Component</h1>
        <p class="demo-subtitle">Reusable, accessible, and responsive pricing cards built with vanilla JavaScript</p>
        
        <div class="cards-grid" id="pricing-cards-container">
            <!-- Pricing cards will be dynamically inserted here -->
        </div>
    </div>

    <script>
        class PricingCard {
            constructor(title, price, features, options = {}) {
                this.title = title;
                this.price = price;
                this.features = features;
                this.options = {
                    buttonText: 'Start Trial',
                    buttonAction: null,
                    highlight: false,
                    ...options
                };
                
                this.element = this.createElement();
            }

            parsePrice(priceString) {
                // Extract currency, amount, and period from price string
                const match = priceString.match(/^(\$|€|£)?([0-9,.])(.*)$/);
                if (!match) return { currency: '', amount: priceString, period: '' };
                
                const [, currency = '$', amount, period] = match;
                return { currency, amount, period };
            }

            createElement() {
                const card = document.createElement('div');
                card.className = 'pricing-card';
                card.setAttribute('role', 'article');
                card.setAttribute('aria-labelledby', `pricing-title-${this.generateId()}`);
                
                const { currency, amount, period } = this.parsePrice(this.price);
                
                card.innerHTML = `
                    <div class="pricing-card__header">
                        <h2 class="pricing-card__title" id="pricing-title-${this.generateId()}">${this.escapeHtml(this.title)}</h2>
                        <div class="pricing-card__price" aria-label="Price: ${this.escapeHtml(this.price)}">
                            <span class="pricing-card__currency">${this.escapeHtml(currency)}</span>
                            <span class="pricing-card__amount">${this.escapeHtml(amount)}</span>
                            <span class="pricing-card__period">${this.escapeHtml(period)}</span>
                        </div>
                    </div>
                    
                    <ul class="pricing-card__features" role="list" aria-label="Plan features">
                        ${this.features.map(feature => 
                            `<li class="pricing-card__feature" role="listitem">${this.escapeHtml(feature)}</li>`
                        ).join('')}
                    </ul>
                    
                    <button class="pricing-card__button" 
                            type="button"
                            aria-label="Select ${this.escapeHtml(this.title)} plan">
                        ${this.escapeHtml(this.options.buttonText)}
                    </button>
                `;

                // Add event listener for button
                const button = card.querySelector('.pricing-card__button');
                button.addEventListener('click', (e) => {
                    if (this.options.buttonAction && typeof this.options.buttonAction === 'function') {
                        this.options.buttonAction(this, e);
                    } else {
                        this.handleDefaultButtonClick(e);
                    }
                });

                // Add keyboard navigation
                card.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        button.click();
                    }
                });

                return card;
            }

            generateId() {
                return Math.random().toString(36).substr(2, 9);
            }

            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            handleDefaultButtonClick(event) {
                console.log(`Selected plan: ${this.title}`);
                // Add visual feedback
                const button = event.target;
                const originalText = button.textContent;
                button.textContent = 'Selected!';
                button.style.background = '#28a745';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            }

            // Method to update card content
            update(title, price, features) {
                this.title = title;
                this.price = price;
                this.features = features;
                
                const newElement = this.createElement();
                this.element.replaceWith(newElement);
                this.element = newElement;
            }

            // Method to render card to a container
            render(container) {
                if (typeof container === 'string') {
                    container = document.querySelector(container);
                }
                
                if (container) {
                    container.appendChild(this.element);
                } else {
                    console.error('Container not found');
                }
                
                return this;
            }

            // Method to remove card
            remove() {
                if (this.element && this.element.parentNode) {
                    this.element.parentNode.removeChild(this.element);
                }
            }
        }

        // Demo: Create pricing cards
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('pricing-cards-container');

            // Sample usage as requested
            const proCard = new PricingCard('Pro Plan', '$24.99/mo', [
                '10GB Storage', 
                'Priority Support',
                'Advanced Analytics',
                '24/7 Monitoring'
            ], {
                buttonAction: (card, event) => {
                    alert(`You selected the ${card.title}!`);
                }
            });

            // Additional demo cards
            const basicCard = new PricingCard('Basic Plan', '$9.99/mo', [
                '1GB Storage',
                'Email Support',
                'Basic Features'
            ]);

            const enterpriseCard = new PricingCard('Enterprise', '$99.99/mo', [
                'Unlimited Storage',
                'Dedicated Support',
                'Custom Integrations',
                'SLA Guarantee',
                'Advanced Security'
            ], {
                buttonText: 'Contact Sales'
            });

            // Render cards
            basicCard.render(container);
            proCard.render(container);
            enterpriseCard.render(container);
        });

        // Export for use in other projects
        if (typeof module !== 'undefined' && module.exports) {
            module.exports = PricingCard;
        } else if (typeof window !== 'undefined') {
            window.PricingCard = PricingCard;
        }
    </script>
</body>
</html>
